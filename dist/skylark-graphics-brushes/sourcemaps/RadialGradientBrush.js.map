{"version":3,"sources":["RadialGradientBrush.js"],"names":["define","Class","Point","GradientBrush","GradientPoint","Color","CssUtils","RadialGradientBrush","declare","-parent-","-module-","-public-","-attributes-","startRadius","type","Number","endRadius","-methods-","toString","props","webkitGradType","stops","webKitPosn1","this","startPoint","webKitPosn2","endPoint","webKitRadius1","webKitRadius2","push","color","toCss","fromColor","i","length","stop","pos","offset","toColor","buildBackgroundImage","-constructor-","initialize","params","_setupAttributeValues","addColorStop","fromString","s","p","parseBackgroundImage","slice","map","item"],"mappings":";;;;;;;AAAAA,QACC,qBACA,mBACA,4BACA,4BACA,oBACA,uBACC,SAASC,EAAMC,EAAMC,EAAcC,EAAcC,EAAMC,GACxD,IAAIC,EAAsBN,EAAMO,SAC/BC,WAAaN,EAEbO,WAAa,kCAEbC,YACCC,gBACCC,aACCC,KAAOC,QAERC,WACCF,KAAOC,SAITE,aACCC,SAAa,WACZ,IAAIC,GACHL,KAAO,SACPM,eAAiB,SACjBC,SACAC,YAAcC,KAAKC,WAAWN,WAC9BO,YAAcF,KAAKG,SAASR,WAC5BS,cAAgBJ,KAAKV,aAAeU,KAAKV,YAAYK,WACrDU,cAAgBL,KAAKP,WAAaO,KAAKP,UAAUE,YAGlDC,EAAME,MAAMQ,MACXC,MAAQzB,EAAM0B,MAAMR,KAAKS,aAI1B,IADA,IAAIX,EAAQE,KAAKF,MACRY,EAAE,EAAEA,EAAEZ,EAAMa,OAAOD,IAAI,CAC/B,IAAIE,EAAOd,EAAMY,GACjBd,EAAME,MAAMQ,MACXO,IAAMD,EAAKE,OAAOnB,WAClBY,MAAQK,EAAKL,MAAMZ,aASrB,OAJAC,EAAME,MAAMQ,MACXC,MAAQzB,EAAM0B,MAAMR,KAAKe,WAGnBhC,EAASiC,qBAAqBpB,GAAO,MAK/CqB,iBACCC,WAAe,SAASC,GAUvB,GATAnB,KAAKoB,uBACJnB,WAAckB,EAAOlB,WACrBE,SAAagB,EAAOhB,SACpBM,UAAcU,EAAOV,UACrBM,QAAYI,EAAOJ,QACnBzB,YAAkB6B,EAAO7B,YACzBG,UAAiB0B,EAAO1B,YAGrB0B,EAAOrB,MAEV,IADA,IAAIA,EAAQqB,EAAOrB,MACVY,EAAI,EAAEA,EAAEZ,EAAMa,OAAOD,IAAK,CAClC,IAAIE,EAAOd,EAAMY,GACjBV,KAAKqB,aAAaT,EAAKE,OAAOF,EAAKL,YAiCxC,OAxBAvB,EAAoBsC,WAAa,SAASC,GACzC,IAAIC,EAAIzC,EAAS0C,qBAAqBF,GACtC,MAAc,UAAVC,EAAEjC,KACE,IAAIP,GACViB,WAAauB,EAAEzB,YACfI,SAAaqB,EAAEtB,YACfZ,YAAakC,EAAEpB,cACfX,UAAa+B,EAAEnB,cACfI,UAAae,EAAE1B,MAAM,GAAGS,MACxBQ,QAAaS,EAAE1B,MAAM0B,EAAE1B,MAAMa,OAAO,GAAGJ,MAEvCT,MAAa0B,EAAE1B,MAAM4B,MAAM,EAAEF,EAAE1B,MAAMa,OAAO,GAAGgB,IAAI,SAASC,GAC3D,OACCd,OAASc,EAAKf,IACdN,MAAQqB,EAAKrB,WAMT,MAIFvB","file":"../RadialGradientBrush.js","sourcesContent":["define([\r\n\t\"qscript/lang/Class\",\r\n\t\"qface/geom/Point\",\r\n\t\"qface/style/GradientBrush\",\r\n\t\"qface/style/GradientPoint\",\r\n\t\"qface/style/Color\",\r\n\t\"qface/util/CssUtils\"\r\n],function(Class,Point,GradientBrush,GradientPoint,Color,CssUtils) {\r\n\tvar RadialGradientBrush = Class.declare({\r\n\t\t\"-parent-\"\t:\tGradientBrush,\r\n\t\t\r\n\t\t\"-module-\"\t:\t\"qface/style/RadialGradientBrush\",\r\n\r\n\t\t\"-public-\"\t:\t{\r\n\t\t\t\"-attributes-\" : {\r\n\t\t\t\t\"startRadius\" : {\r\n\t\t\t\t\ttype : Number,\r\n\t\t\t\t},\r\n\t\t\t\t\"endRadius\" : {\r\n\t\t\t\t\ttype : Number,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\"-methods-\"\t:\t{\r\n\t\t\t\t\"toString\" : function() {\r\n\t\t\t\t\tvar props = {\r\n\t\t\t\t\t\ttype : \"radial\",\r\n\t\t\t\t\t\twebkitGradType : \"radial\",\r\n\t\t\t\t\t\tstops : [],\r\n\t\t\t\t\t\twebKitPosn1 : this.startPoint.toString(),\r\n\t\t\t\t\t\twebKitPosn2 : this.endPoint.toString(),\r\n\t\t\t\t\t\twebKitRadius1 : this.startRadius && this.startRadius.toString(),\r\n\t\t\t\t\t\twebKitRadius2 : this.endRadius && this.endRadius.toString()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tprops.stops.push({\r\n\t\t\t\t\t\tcolor : Color.toCss(this.fromColor)\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar stops = this.stops;\r\n\t\t\t\t\tfor (var i=0;i<stops.length;i++){\r\n\t\t\t\t\t\tvar stop = stops[i];\r\n\t\t\t\t\t\tprops.stops.push({\r\n\t\t\t\t\t\t\tpos : stop.offset.toString(),\r\n\t\t\t\t\t\t\tcolor : stop.color.toString()\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tprops.stops.push({\r\n\t\t\t\t\t\tcolor : Color.toCss(this.toColor)\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn CssUtils.buildBackgroundImage(props)[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\t\r\n\t\t\r\n\t\t\"-constructor-\"\t:\t{\r\n\t\t\t\"initialize\"\t:\tfunction(params) {\r\n\t\t\t\tthis._setupAttributeValues({\r\n\t\t\t\t\t\"startPoint\":\tparams.startPoint,\r\n\t\t\t\t\t\"endPoint\"\t:\tparams.endPoint,\r\n\t\t\t\t\t\"fromColor\"\t:\tparams.fromColor,\r\n\t\t\t\t\t\"toColor\"\t:\tparams.toColor,\r\n\t\t\t\t\t\"startRadius\"\t:   params.startRadius,\r\n\t\t\t\t\t\"endRadius\"\t\t:   params.endRadius,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (params.stops) {\r\n\t\t\t\t\tvar stops = params.stops;\r\n\t\t\t\t\tfor (var i = 0;i<stops.length;i++) {\r\n\t\t\t\t\t\tvar stop = stops[i];\r\n\t\t\t\t\t\tthis.addColorStop(stop.offset,stop.color);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tRadialGradientBrush.fromString = function(s) {\r\n\t\tvar p = CssUtils.parseBackgroundImage(s);\r\n\t\tif (p.type == \"radial\" ) {\r\n\t\t\treturn new RadialGradientBrush({\r\n\t\t\t\tstartPoint : p.webKitPosn1,\r\n\t\t\t\tendPoint   : p.webKitPosn2,\r\n\t\t\t\tstartRadius: p.webKitRadius1,\r\n\t\t\t\tendRadius  : p.webKitRadius2,\r\n\t\t\t\tfromColor  : p.stops[0].color,\r\n\t\t\t\ttoColor    : p.stops[p.stops.length-1].color,\r\n\r\n\t\t\t\tstops      : p.stops.slice(1,p.stops.length-1).map(function(item){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\toffset : item.pos,\r\n\t\t\t\t\t\tcolor : item.color\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn RadialGradientBrush;\r\n\t\r\n});\t\r\n"]}