{"version":3,"sources":["skylark-graphics-brushes.js"],"names":["define","skylark","attach","klass","numerics","Transform","klassName","value","get","this","_","langx","brushes","Brush","opacity","transform","GradientBrush","inherit","TileBrush","ImageBrush","imageSource","toString","_construct","url","fromString","s","p","CssUtils","parseBackgroundImage","type","RadialGradientBrush","startPoint","webKitPosn1","endPoint","webKitPosn2","startRadius","webKitRadius1","endRadius","webKitRadius2","fromColor","stops","color","toColor","length","slice","map","item","offset","pos","Color","SolidColorBrush","c","parse","TileRepeateMode","mixin","repeat","repeatx","repeaty","norepeat","fromCss","toCss","main"],"mappings":";;;;;;;g4BAAAA,EAAA,oCACA,yBACA,SAAAC,GACA,OAAAA,EAAAC,OAAA,yBAIAF,EAAA,oCACA,sBACA,cACA,SAAAG,EAAAC,GAEA,IAAAC,EAAAF,GACAG,UAAA,YACAC,OACAC,IAAA,WACA,OAAAC,KAAAC,EAAAH,UAKA,OAAAH,EAAAC,UAAAA,IAGAL,EAAA,kCACA,sBACA,mCACA,aACA,SAAAW,EAAAN,EAAAO,GACA,IAAAC,EAAAF,EAAAR,OACAG,UAAA,QAEAQ,SACAN,IAAA,WACA,OAAAC,KAAAC,EAAAI,UAIAC,WACAP,IAAA,WACA,OAAAC,KAAAC,EAAAK,cAKA,OAAAH,EAAAC,MAAAA,IAGAb,EAAA,2CACA,sBACA,YACA,WACA,SAAAW,EAAAC,EAAAC,GAEA,IAAAG,EAAAH,EAAAI,SAEAX,UAAA,kBAKA,OAAAM,EAAAI,cAAAA,IAKAhB,EAAA,uCACA,sBACA,YACA,WACA,SAAAW,EAAAC,EAAAC,GAEA,IAAAK,EAAAL,EAAAI,SACAX,UAAA,cAIA,OAAAM,EAAAM,UAAAA,IA7EAlB,EAAA,wCACA,sBACA,YACA,gBACA,SAAAW,EAAAC,EAAAM,GAEA,IAAAC,EAAAD,EAAAD,SAEAX,UAAA,aAEAc,aACAZ,IAAA,WACA,OAAAC,KAAAC,EAAAU,cAIAC,SAAA,WACA,MAAA,OAAAZ,KAAAW,YAAA,KAGAE,WAAA,SAAAC,GACAd,KAAAC,GACAU,YAAAG,MAcA,OATAJ,EAAAK,WAAA,SAAAC,GACA,IAAAC,EAAAC,SAAAC,qBAAAH,GACA,MAAA,OAAAC,EAAAG,KACA,IAAAV,EAAAO,EAAAH,KAEA,MAIAX,EAAAO,WAAAA,IAIAnB,EAAA,kDACA,sBACA,YACA,oBACA,SAAAW,EAAAC,EAAAI,GAEA,IAAAc,EAAAd,EAAAC,SACAX,UAAA,wBA4BA,OAxBAwB,EAAAN,WAAA,SAAAC,GACA,IAAAC,EAAAC,SAAAC,qBAAAH,GACA,MAAA,UAAAC,EAAAG,KACA,IAAAC,GACAC,WAAAL,EAAAM,YACAC,SAAAP,EAAAQ,YACAC,YAAAT,EAAAU,cACAC,UAAAX,EAAAY,cACAC,UAAAb,EAAAc,MAAA,GAAAC,MACAC,QAAAhB,EAAAc,MAAAd,EAAAc,MAAAG,OAAA,GAAAF,MAEAD,MAAAd,EAAAc,MAAAI,MAAA,EAAAlB,EAAAc,MAAAG,OAAA,GAAAE,IAAA,SAAAC,GACA,OACAC,OAAAD,EAAAE,IACAP,MAAAK,EAAAL,WAMA,MAIA7B,EAAAkB,oBAAAA,IAKA9B,EAAA,8CACA,sBACA,gCACA,YACA,WACA,SAAAW,EAAAsC,EAAArC,EAAAC,GAEA,IAAAqC,EAAArC,EAAAI,SAEAX,UAAA,kBAEAmC,OACAjC,IAAA,WACA,OAAAC,KAAAC,EAAA+B,QAIApB,SAAA,WACA,OAAAZ,KAAAgC,MAAApB,YAGAC,WAAA,SAAA6B,GACA1C,KAAAC,GACA+B,MAAAU,MAcA,OATAD,EAAA1B,WAAA,SAAAC,GACA,IAAA0B,EAAAF,EAAAG,MAAA3B,GACA,OAAA0B,EACA,IAAAD,EAAAC,GAEA,MAIAvC,EAAAsC,gBAAAA,IAIAlD,EAAA,8CACA,sBACA,aACA,SAAAW,EAAAC,GAEA,IAAAyC,GAAA,SAAA,UAAA,UAAA,YAsCA,OApCA1C,EAAA2C,MAAAD,GACAE,OAAA,EACAC,QAAA,EACAC,QAAA,EACAC,SAAA,IAGAL,EAAAM,QAAA,SAAAlC,GACA,OAAAA,GACA,IAAA,SACA,OAAA4B,EAAAE,OACA,IAAA,WACA,OAAAF,EAAAG,QACA,IAAA,WACA,OAAAH,EAAAI,QACA,IAAA,YACA,OAAAJ,EAAAK,SACA,QACA,SAGAL,EAAAO,MAAA,SAAAL,GACA,OAAAA,GACA,KAAAF,EAAAE,OACA,MAAA,SACA,KAAAF,EAAAG,QACA,MAAA,WACA,KAAAH,EAAAI,QACA,MAAA,WACA,KAAAJ,EAAAK,SACA,MAAA,YACA,QACA,SAIA9C,EAAAyC,gBAAAA,IAIArD,EAAA,iCACA,YACA,UACA,mBACA,gBACA,0BACA,sBACA,eACA,uBACA,SAAAY,GACA,OAAAA,IAIAZ,EAAA,4BAAA,iCAAA,SAAA6D,GAAA,OAAAA","file":"../skylark-graphics-brushes.js","sourcesContent":["define('skylark-graphics-brushes/brushes',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark){\r\n\treturn skylark.attach(\"graphics.burshes\",{});\r\n});\r\n\r\n\ndefine('skylark-langx-numerics/transform',[\r\n\t\"skylark-langx-klass\",\t\r\n    \"./numerics\",\r\n], function(klass,numerics) {\r\n\r\n    var Transform =  klass({\r\n        \"klassName\": \"Transform\",\r\n\t\t\"value\": {\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this._.value;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn numerics.Transform =Transform;\r\n});\r\n\ndefine('skylark-graphics-brushes/brush',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-langx-numerics/transform\",\r\n\t\"./brushes\"\r\n], function(langx, Transform,brushes) {\r\n\tvar Brush = langx.klass({\r\n\t\t\"klassName\": \"Brush\",\r\n\r\n\t\t\"opacity\": {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.opacity;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\"transform\": {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.transform;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn brushes.Brush = Brush;\r\n});\r\n\ndefine('skylark-graphics-brushes/gradient-brush',[\r\n\t\"skylark-langx/langx\",\r\n\t\"./brushes\",\r\n\t\"./brush\"\r\n],function(langx,brushes,Brush) {\r\n\r\n\tvar GradientBrush = Brush.inherit({\r\n\r\n\t\t\"klassName\"\t:\t\"GradientBrush\",\r\n\r\n\t\t\r\n\t});\r\n\r\n\treturn brushes.GradientBrush = GradientBrush;\r\n\t\r\n});\t\r\n\r\n\ndefine('skylark-graphics-brushes/tile-brush',[\r\n\t\"skylark-langx/langx\",\r\n\t\"./brushes\",\r\n\t\"./brush\"\r\n],function(langx,brushes,Brush) {\r\n\r\n\tvar TileBrush = Brush.inherit({\r\n\t\t\"klassName\"\t:\t\"TileBrush\",\r\n\r\n\t});\r\n\r\n\treturn brushes.TileBrush = TileBrush;\r\n\t\r\n});\t\r\n\ndefine('skylark-graphics-brushes/image-brush',[\r\n\t\"skylark-langx/langx\",\r\n\t\"./brushes\",\r\n\t\"./tile-brush\"\r\n],function(langx,brushes,TileBrush) {\r\n\r\n\tvar ImageBrush = TileBrush.inherit({\r\n\r\n\t\t\"klassName\"\t:\t\"ImageBrush\",\r\n\r\n\t\t\"imageSource\"\t:\t{\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.imageSource;\r\n\t\t\t}\t\t\r\n\t\t},\r\n\r\n\t\t\"toString\" : function() {\r\n\t\t\treturn \"url(\"+this.imageSource+\")\";\r\n\t\t},\r\n\t\t\r\n\t\t\"_construct\" : function(url){\r\n\t\t\tthis._ = {\r\n\t\t\t\timageSource : url\r\n\t\t\t};\r\n\t\t}\t\r\n\t});\r\n\r\n\tImageBrush.fromString = function(s) {\r\n\t\tvar p = CssUtils.parseBackgroundImage(s);\r\n\t\tif (p.type == \"url\") {\r\n\t\t\treturn new ImageBrush(p.url);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn brushes.ImageBrush = ImageBrush;\r\n\t\r\n});\t\r\n\ndefine('skylark-graphics-brushes/radial-gradient-brush',[\r\n\t\"skylark-langx/langx\",\r\n\t\"./brushes\",\r\n\t\"./gradient-brush\"\r\n],function(langx,brushes,GradientBrush) {\r\n\t\r\n\tvar RadialGradientBrush = GradientBrush.inherit({\r\n\t\t\"klassName\"\t:\t\"RadialGradientBrush\",\r\n\r\n\t});\r\n\r\n\tRadialGradientBrush.fromString = function(s) {\r\n\t\tvar p = CssUtils.parseBackgroundImage(s);\r\n\t\tif (p.type == \"radial\" ) {\r\n\t\t\treturn new RadialGradientBrush({\r\n\t\t\t\tstartPoint : p.webKitPosn1,\r\n\t\t\t\tendPoint   : p.webKitPosn2,\r\n\t\t\t\tstartRadius: p.webKitRadius1,\r\n\t\t\t\tendRadius  : p.webKitRadius2,\r\n\t\t\t\tfromColor  : p.stops[0].color,\r\n\t\t\t\ttoColor    : p.stops[p.stops.length-1].color,\r\n\r\n\t\t\t\tstops      : p.stops.slice(1,p.stops.length-1).map(function(item){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\toffset : item.pos,\r\n\t\t\t\t\t\tcolor : item.color\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn brushes.RadialGradientBrush = RadialGradientBrush;\r\n\t\r\n});\t\r\n\r\n\ndefine('skylark-graphics-brushes/solid-color-brush',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-graphics-colors/color\",\r\n\t\"./brushes\",\r\n\t\"./brush\"\r\n],function(langx,Color,brushes,Brush) {\r\n\r\n\tvar SolidColorBrush = Brush.inherit({\r\n\t\t\r\n\t\t\"klassName\"\t:\t\"SolidColorBrush\",\r\n\r\n\t\t\"color\" : {\r\n\t\t\tget  : function() {\r\n\t\t\t\treturn this._.color;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\"toString\" : function() {\r\n\t\t\treturn this.color.toString();\r\n\t\t},\r\n\t\r\n\t\t\"_construct\" : function(c){\r\n\t\t\tthis._ = {\r\n\t\t\t\tcolor : c\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\tSolidColorBrush.fromString = function(s) {\r\n\t\tvar c = Color.parse(s);\r\n\t\tif (c) {\r\n\t\t\treturn new SolidColorBrush(c);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn brushes.SolidColorBrush = SolidColorBrush;\r\n\t\r\n});\t\r\n\ndefine('skylark-graphics-brushes/tile-repeate-mode',[\r\n\t\"skylark-langx/langx\",\r\n\t\"./brushes\"\r\n], function(langx, brushes) {\r\n\r\n\tvar TileRepeateMode = [\"repeat\", \"repeatx\", \"repeaty\", \"norepeat\"];\r\n\r\n\tlangx.mixin(TileRepeateMode,{\r\n\t\t\"repeat\" : 0, \r\n\t\t\"repeatx\" : 1, \r\n\t\t\"repeaty\" : 2, \r\n\t\t\"norepeat\" : 3\r\n\t});\r\n\r\n\tTileRepeateMode.fromCss = function(s) {\r\n\t\tswitch (s) {\r\n\t\t\tcase \"repeat\" : \r\n\t\t\t\treturn TileRepeateMode.repeat;\r\n\t\t\tcase \"repeat-x\" : \r\n\t\t\t\treturn TileRepeateMode.repeatx;\r\n\t\t\tcase \"repeat-y\" : \r\n\t\t\t\treturn TileRepeateMode.repeaty;\r\n\t\t\tcase \"no-repeat\" : \r\n\t\t\t\treturn TileRepeateMode.norepeat;\r\n\t\t\tdefault :\r\n\t\t\t\treturn undefined;\t\t\t\r\n\t\t}\r\n\t};\r\n\tTileRepeateMode.toCss = function(repeat) {\r\n\t\tswitch (repeat) {\r\n\t\t\tcase TileRepeateMode.repeat : \r\n\t\t\t\treturn \"repeat\";\r\n\t\t\tcase TileRepeateMode.repeatx : \r\n\t\t\t\treturn \"repeat-x\";\r\n\t\t\tcase TileRepeateMode.repeaty : \r\n\t\t\t\treturn \"repeat-y\";\r\n\t\t\tcase TileRepeateMode.norepeat : \r\n\t\t\t\treturn \"no-repeat\";\r\n\t\t\tdefault :\r\n\t\t\t\treturn undefined;\t\t\t\r\n\t\t}\r\n\t};\r\n\r\n\treturn brushes.TileRepeateMode = TileRepeateMode;\r\n\r\n});\r\n\ndefine('skylark-graphics-brushes/main',[\r\n\t\"./brushes\",\r\n\t\"./brush\",\r\n\t\"./gradient-brush\",\r\n\t\"./image-brush\",\r\n\t\"./radial-gradient-brush\",\r\n\t\"./solid-color-brush\",\r\n\t\"./tile-brush\",\r\n\t\"./tile-repeate-mode\"\r\n],function(brushes){\r\n\treturn brushes;\r\n});\r\n\r\n\ndefine('skylark-graphics-brushes', ['skylark-graphics-brushes/main'], function (main) { return main; });\n\n"]}