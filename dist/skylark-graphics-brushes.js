/**
 * skylark-graphics-brushes - The skylark brush class library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.1
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,i){var s=i.define,require=i.require,r="function"==typeof s&&s.amd,n=!r&&"undefined"!=typeof exports;if(!r&&!s){var e={};s=i.define=function(t,i,s){"function"==typeof s?(e[t]={factory:s,deps:i.map(function(i){return function(t,i){if("."!==t[0])return t;var s=i.split("/"),r=t.split("/");s.pop();for(var n=0;n<r.length;n++)"."!=r[n]&&(".."==r[n]?s.pop():s.push(r[n]));return s.join("/")}(i,t)}),resolved:!1,exports:null},require(t)):e[t]={factory:null,resolved:!0,exports:s}},require=i.require=function(t){if(!e.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=e[t];if(!module.resolved){var s=[];module.deps.forEach(function(t){s.push(require(t))}),module.exports=module.factory.apply(i,s)||null,module.resolved=!0}return module.exports}}if(!s)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-graphics-brushes/brushes",["skylark-langx/skylark"],function(t){return t.attach("graphics.burshes",{})}),t("skylark-langx-numerics/Vector2",["./numerics"],function(t){function i(t,i){this.x=t||0,this.y=i||0}return Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(i.prototype,{set:function(t,i){return this.x=t,this.y=i,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,i){return void 0!==i?(console.warn("Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this},sub:function(t,i){return void 0!==i?(console.warn("Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var i=this.x,s=this.y,r=t.elements;return this.x=r[0]*i+r[3]*s+r[6],this.y=r[1]*i+r[4]*s+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this},clampLength:function(t,i){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x,s=this.y-t.y;return i*i+s*s},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this},lerpVectors:function(t,i,s){return this.subVectors(i,t).multiplyScalar(s).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t},rotateAround:function(t,i){var s=Math.cos(i),r=Math.sin(i),n=this.x-t.x,e=this.y-t.y;return this.x=n*s-e*r+t.x,this.y=n*r+e*s+t.y,this}}),t.Vector2=i}),t("skylark-langx-numerics/Matrix",["skylark-langx-objects","skylark-langx-klass","./numerics","./Vector2"],function(t,i,s,r){var n=Math.PI/180,e={},h=function(t){return e[t]||(e[t]=Math.PI*t/180)},a=s.Matrix=i({klassName:"TransformMatrix",_multiplyPoint:function(t){var i=this._,s=t.x*i.m11+t.y*i.m21+i.dx,n=t.x*i.m12+t.y*i.m22+i.dy;return new r(s,n)},m11:{get:function(){return this._.m11}},m12:{get:function(){return this._.m12}},m21:{get:function(){return this._.m21}},m22:{get:function(){return this._.m22}},dx:{get:function(){return this._.dx}},dy:{get:function(){return this._.dy}},alpha:{get:function(){return this._.alpha}},shadow:{get:function(){return this._.shadow}},compositeOperation:{get:function(){return this._.compositeOperation}},multiplyPoint:function(t){return this._multiplyPoint(t)},multiplyRectangle:function(t){if(this.isIdentity())return t.clone();var i=this.multiplyPoint(t.leftTop),s=this.multiplyPoint(t.leftBottom),r=this.multiplyPoint(t.right),n=this.multiplyPoint(t.rightBottom),e=Math.min(i.x,s.x,r.x,n.x),h=Math.min(i.y,s.y,r.y,n.y),a=Math.max(i.x,s.x,r.x,n.x),o=Math.max(i.y,s.y,r.y,n.y);return new Rect(e,h,a-e,o-h)},prepend:function(t,i,s,r,n,e){var h=this.dx;if(1!=t||0!=i||0!=s||1!=r){var a=this.m11,o=this.m21;this.m11=a*t+this.m12*s,this.m12=a*i+this.m12*r,this.m21=o*t+this.m22*s,this.m22=o*i+this.m22*r}return this.dx=h*t+this.dy*s+n,this.dy=h*i+this.dy*r+e,this},append:function(t,i,s,r,n,e){var h=this.m11,a=this.m12,o=this.m21,u=this.m22;return this.m11=t*h+i*o,this.m12=t*a+i*u,this.m21=s*h+r*o,this.m22=s*a+r*u,this.dx=n*h+e*o+this.dx,this.dy=n*a+e*u+this.dy,this},prependMatrix:function(t){return this.prepend(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),this.prependProperties(t.alpha,t.shadow,t.compositeOperation),this},appendMatrix:function(t){return this.append(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),this.appendProperties(t.alpha,t.shadow,t.compositeOperation),this},prependTransform:function(t,i,s,r,e,h,a,o,u){if(e%360)var c=e*n,l=Math.cos(c),m=Math.sin(c);else l=1,m=0;return(o||u)&&(this.dx-=o,this.dy-=u),h||a?(h*=n,a*=n,this.prepend(l*s,m*s,-m*r,l*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(h),Math.cos(h),t,i)):this.prepend(l*s,m*s,-m*r,l*r,t,i),this},appendTransform:function(t,i,s,r,e,h,a,o,u){if(e%360)var c=e*n,l=Math.cos(c),m=Math.sin(c);else l=1,m=0;return h||a?(h*=n,a*=n,this.append(Math.cos(a),Math.sin(a),-Math.sin(h),Math.cos(h),t,i),this.append(l*s,m*s,-m*r,l*r,0,0)):this.append(l*s,m*s,-m*r,l*r,t,i),(o||u)&&(this.dx-=o*this.m11+u*this.m21,this.dy-=o*this.m12+u*this.m22),this},rotate:function(t){var i=Math.cos(t),s=Math.sin(t),r=this.m11,n=this.m21,e=this.dx;return this.m11=r*i-this.m12*s,this.m12=r*s+this.m12*i,this.m21=n*i-this.m22*s,this.m22=n*s+this.m22*i,this.dx=e*i-this.dy*s,this.dy=e*s+this.dy*i,this},skew:function(t,i){return t*=n,i*=n,this.append(Math.cos(i),Math.sin(i),-Math.sin(t),Math.cos(t),0,0),this},scale:function(t,i){return this.m11*=t,this.m22*=i,this.dx*=t,this.dy*=i,this},translate:function(t,i){return this.dx+=t,this.dy+=i,this},identity:function(){return this.alpha=this.m11=this.m22=1,this.m12=this.m21=this.dx=this.dy=0,this.shadow=this.compositeOperation=null,this},invert:function(){var t=this.m11,i=this.m12,s=this.m21,r=this.m22,n=this.dx,e=t*r-i*s;return this.m11=r/e,this.m12=-i/e,this.m21=-s/e,this.m22=t/e,this.dx=(s*this.dy-r*n)/e,this.dy=-(t*this.dy-i*n)/e,this},isIdentity:function(){return 0==this.dx&&0==this.dy&&1==this.m11&&0==this.m12&&0==this.m21&&1==this.m22},decompose:function(t){null==t&&(t={}),t.x=this.dx,t.y=this.dy,t.scaleX=Math.sqrt(this.m11*this.m11+this.m12*this.m12),t.scaleY=Math.sqrt(this.m21*this.m21+this.m22*this.m22);var i=Math.atan2(-this.m21,this.m22),s=Math.atan2(this.m12,this.m11);return i==s?(t.rotation=s/n,this.m11<0&&this.m22>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=i/n,t.skewY=s/n),t},reinitialize:function(t,i,s,r,n,e,h,a,o){return this._initialize(t,i,s,r,n,e),this.alpha=h||1,this.shadow=a,this.compositeOperation=o,this},appendProperties:function(t,i,s){return this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=s||this.compositeOperation,this},prependProperties:function(t,i,s){return this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||s,this},multiply:function(t){var i=this.m11,s=this.m12,r=this.m21,n=this.m22,e=this.dx,h=this.dy,a=t;return this.m11=i*a.m11+r*a.m12,this.m12=s*a.m11+n*a.m12,this.m21=i*a.m21+r*a.m22,this.m22=s*a.m21+n*a.m22,this.dx=i*a.dx+r*a.dy+e,this.dy=s*a.dx+n*a.dy+h,this},clone:function(){var t=this._,i=new a(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy);return i.shadow=this.shadow,i.alpha=this.alpha,i.compositeOperation=this.compositeOperation,i},toString:function(){var t=this._;return"[Matrix (m11="+t.m11+" m12="+t.m12+" m21="+t.m21+" m22="+t.m22+" dx="+t.dx+" dy="+t.dy+")]"},init:function(t,i,s,r,n,e){var h=this._;h.m11=t||1,h.m12=i||0,h.m21=s||0,h.m22=r||1,h.dx=n||0,h.dy=e||0}});return t.mixin(a,{translate:function(t,i){return new a(1,0,0,1,t,i)},scale:function(t,i){return new a(t,0,0,i||t,0,0)},rotate:function(t){var i=Math.cos(t),s=Math.sin(t);return new a(i,s,-s,i,0,0)},rotateg:function(t){return this.rotate(h(t))},skewX:function(t){var i=Math.tan(t);return new a(1,0,i,1)},skewXg:function(t){return this.skewX(h(t))},skewY:function(t){var i=Math.tan(t);return new a(1,i,0,1)},skewYg:function(t){return this.skewY(h(t))},reflect:function(t,i){1==arguments.length&&(i=t.y,t=t.x);var s=t*t,r=i*i,n=s+r,e=2*s/n-1,h=2*t*i/n,o=h,u=2*r/n-1;return new a(e,o,h,u)},project:function(t,i){var s=t*t,r=i*i,n=s+r,e=s/n,h=t*i/n;return yx=h,yy=r/n,new a(e,yx,h,yy)},_sandwich:function(t,i,s){return this.translate(i,s).multiply(t).multiply(this.translate(-i,-s))},scaleAt:function(t,i,s,r){switch(arguments.length){case 4:return this._sandwich(this.scale(t,i),s,r);case 3:return"number"==typeof s?this._sandwich(this.scale(t),i,s):this._sandwich(this.scale(t,i),s.x,s.y)}return this._sandwich(this.scale(t),i.x,i.y)},rotateAt:function(t,i,s){return arguments.length>2?this._sandwich(this.rotate(t),i,s):this._sandwich(this.rotate(t),i.x,i.y)},rotategAt:function(t,i,s){return arguments.length>2?this._sandwich(this.rotateg(t),i,s):this._sandwich(this.rotateg(t),i.x,i.y)},skewXAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewX(t),i,s):this._sandwich(this.skewX(t),i.x,i.y)},skewXgAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewXg(t),i,s):this._sandwich(this.skewXg(t),i.x,i.y)},skewYAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewY(t),i,s):this._sandwich(this.skewY(t),i.x,i.y)},skewYgAt:function(t,i,s){return arguments.length>2?this._sandwich(this.skewYg(t),i,s):this._sandwich(this.skewYg(t),i.x,i.y)}}),a}),t("skylark-langx-numerics/Transform",["skylark-langx/langx","./numerics","./Matrix"],function(t,i,s){var r=i.Transform=t.klass({klassName:"Transform",value:{get:function(){return this._.value}}});return r}),t("skylark-graphics-brushes/Brush",["skylark-langx/langx","skylark-langx-numerics/Transform","./brushes"],function(t,i,s){var r=t.klass({klassName:"Brush",opacity:{get:function(){return this._.opacity}},transform:{get:function(){return this._.transform}}});return s.Brush=r}),t("skylark-graphics-brushes/GradientBrush",["skylark-langx/langx","skylark-graphics-color","./brushes","./Brush"],function(t,i,s,r){var n=r.inherit({klassName:"GradientBrush"});return s.GradientBrush=n}),t("skylark-graphics-brushes/TileBrush",["skylark-langx/langx","./brushes","./Brush"],function(t,i,s){var r=s.inherit({klassName:"TileBrush"});return i.TileBrush=r}),t("skylark-graphics-brushes/ImageBrush",["skylark-langx/langx","skylark-graphics-color","./brushes","./TileBrush"],function(t,i,s,r){var n=r.inherit({klassName:"qface/style/ImageBrush",imageSource:{get:function(){return this._.imageSource}},toString:function(){return"url("+this.imageSource+")"},_construct:function(t){this._={imageSource:t}}});return n.fromString=function(t){var i=CssUtils.parseBackgroundImage(t);return"url"==i.type?new n(i.url):null},s.ImageBrush=n}),t("skylark-graphics-brushes/RadialGradientBrush",["skylark-langx/langx","skylark-graphics-color","./brushes","./GradientBrush"],function(t,i,s,r){var n=r.inherit({klassName:"RadialGradientBrush"});return n.fromString=function(t){var i=CssUtils.parseBackgroundImage(t);return"radial"==i.type?new n({startPoint:i.webKitPosn1,endPoint:i.webKitPosn2,startRadius:i.webKitRadius1,endRadius:i.webKitRadius2,fromColor:i.stops[0].color,toColor:i.stops[i.stops.length-1].color,stops:i.stops.slice(1,i.stops.length-1).map(function(t){return{offset:t.pos,color:t.color}})}):null},s.RadialGradientBrush=n}),t("skylark-graphics-brushes/SolidColorBrush",["skylark-langx/langx","skylark-graphics-color","./brushes","./Brush"],function(t,i,s,r){var n=r.inherit({klassName:"SolidColorBrush",color:{get:function(){return this._.color}},toString:function(){return this.color.toString()},_construct:function(t){this._={color:t}}});return n.fromString=function(t){var s=i.parse(t);return s?new n(s):null},s.SolidColorBrush=n}),t("skylark-graphics-brushes/TileRepeateMode",["skylark-langx/langx","./brushes"],function(t,i){var s=["repeat","repeatx","repeaty","norepeat"];return t.mixin(s,{repeat:0,repeatx:1,repeaty:2,norepeat:3}),s.fromCss=function(t){switch(t){case"repeat":return s.repeat;case"repeat-x":return s.repeatx;case"repeat-y":return s.repeaty;case"no-repeat":return s.norepeat;default:return}},s.toCss=function(t){switch(t){case s.repeat:return"repeat";case s.repeatx:return"repeat-x";case s.repeaty:return"repeat-y";case s.norepeat:return"no-repeat";default:return}},i.TileRepeateMode=s}),t("skylark-graphics-brushes/main",["./brushes","./Brush","./GradientBrush","./ImageBrush","./RadialGradientBrush","./SolidColorBrush","./TileBrush","./TileRepeateMode"],function(t){return t}),t("skylark-graphics-brushes",["skylark-graphics-brushes/main"],function(t){return t})}(s),!r){var h=require("skylark-langx-ns");n?module.exports=h:i.skylarkjs=h}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-graphics-brushes.js.map
